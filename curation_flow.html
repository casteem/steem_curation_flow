<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>SteemCash</title>
  <meta name="generator" content="Google Web Designer 3.0.1.0319">
  <style type="text/css" id="gwd-text-style">
    p {
      margin: 0px;
    }
    h1 {
      margin: 0px;
    }
    h2 {
      margin: 0px;
    }
    h3 {
      margin: 0px;
    }
  </style>
  <style type="text/css">
    html, body {
      width: 100%;
      height: 100%;
      margin: 0px;
    }
    body {
      background-color: transparent;
      transform: perspective(1400px) matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);
      transform-style: preserve-3d;
    }
    .gwd-div-98i0 {
      position: absolute;
      left: 11px;
      top: 88px;
      border-style: solid;
      border-width: 1px;
      height: 30px;
      width: 200px;
    }
    .gwd-div-9hm6 {
      left: 10px;
      top: 90px;
    }
    .gwd-div-aqiv {
      left: 220px;
      top: 90px;
    }
    .gwd-div-1tde {
      left: 430px;
      top: 90px;
    }
    .gwd-div-ks78 {
      left: 640px;
      top: 90px;
    }
    .gwd-div-1rul {
      left: 850px;
      top: 90px;
    }
    .gwd-div-1ghk {
      left: 1060px;
      top: 90px;
    }
    .gwd-div-7b5j {
      left: 1270px;
      top: 90px;
      background-image: none;
      background-color: rgb(236, 228, 228);
      border-width: 0px;
      font-size: 20px;
      color: rgb(59, 59, 230);
      text-align: center;
    }
    .gwd-div-kj2u {
      left: 10px;
      height: 400px;
      top: 170px;
      width: 1460px;
    }
    .gwd-div-q6uc {
      left: 10px;
      top: 540px;
    }
    .gwd-div-ufhd {
      left: 10px;
      top: 540px;
    }
    .gwd-div-pkh3 {
      left: 220px;
    }
    .gwd-div-1asl {
      left: 220px;
      border-width: 0px;
      background-image: none;
      background-color: rgb(236, 228, 228);
      top: 130px;
      font-size: 18px;
      text-align: center;
      color: rgb(104, 101, 243);
    }
    .gwd-div-1cj5 {
      left: 430px;
      top: 540px;
    }
    .gwd-div-nzie {
      border-width: 1.28205px;
      height: 29.988px;
      left: 640px;
      top: 540px;
    }
    .gwd-div-1ysh {
      left: 850px;
      top: 540px;
    }
    .gwd-div-eq9a {
      left: 1060px;
      top: 540px;
    }
    .gwd-div-1i6l {
      left: 1270px;
      border-width: 0px;
      background-image: none;
      background-color: rgb(236, 228, 228);
      top: 130px;
      font-size: 18px;
      color: rgb(104, 101, 243);
      text-align: center;
    }
    .gwd-div-1wos {
      top: 600px;
      height: 40px;
    }
    .gwd-div-12ws {
      text-align: right;
    }
    .gwd-h2-gxr8 {
      left: 227px;
      text-align: left;
      border-width: 0px;
      color: rgb(104, 101, 243);
    }
    .gwd-h2-1q9w {
      border-width: 0px;
      color: rgb(104, 101, 243);
    }
    .gwd-div-1ygc {
      border-width: 0px;
      background-image: none;
      background-color: rgb(236, 228, 228);
      left: 10px;
      top: 130px;
      text-align: center;
      color: rgb(104, 101, 243);
      font-size: 18px;
    }
    .gwd-div-jm7y {
      border-width: 0px;
      background-image: none;
      background-color: rgb(236, 228, 228);
      top: 130px;
      color: rgb(104, 101, 243);
      font-size: 18px;
      text-align: center;
    }
    .gwd-div-fnu0 {
      border-width: 0px;
      background-image: none;
      background-color: rgb(236, 228, 228);
      top: 130px;
      font-size: 18px;
      color: rgb(104, 101, 243);
      text-align: center;
    }
    .gwd-div-1qoy {
      border-width: 0px;
      background-image: none;
      background-color: rgb(236, 228, 228);
      top: 130px;
      color: rgb(104, 101, 243);
      font-size: 18px;
      text-align: center;
    }
    .gwd-div-1sdr {
      border-width: 0px;
      background-image: none;
      background-color: rgb(236, 228, 228);
      top: 130px;
      color: rgb(104, 101, 243);
      font-size: 18px;
      text-align: center;
    }
    .gwd-div-1b1u {
      background-image: none;
      border-width: 0px;
      overflow: auto;
      background-color: rgb(236, 228, 228);
    }
    .gwd-img-10gi {
      position: absolute;
      height: 80px;
      width: 370px;
      left: 25px;
      top: 5px;
    }
    .gwd-form-1afr {
      left: 44px;
      top: 5px;
    }
    .gwd-h3-1ab2 {
      position: absolute;
      width: 175.41px;
      height: 50.8197px;
      color: rgb(66, 63, 218);
      font-size: 11px;
      left: 300px;
      top: 31px;
    }
    .gwd-div-6ic6 {
      border-width: 0px;
      background-image: none;
      background-color: rgb(236, 228, 228);
      font-size: 20px;
      color: rgb(59, 59, 230);
      text-align: center;
    }
    .gwd-div-7cns {
      background-image: none;
      background-color: rgb(236, 228, 228);
      border-width: 0px;
      color: rgb(59, 59, 230);
      font-size: 20px;
      text-align: center;
    }
    .gwd-div-1i55 {
      border-width: 0px;
      background-image: none;
      background-color: rgb(236, 228, 228);
      font-size: 20px;
      color: rgb(59, 59, 230);
      text-align: center;
    }
    .gwd-div-ao2l {
      background-image: none;
      background-color: rgb(236, 228, 228);
      border-width: 0px;
      font-size: 20px;
      color: rgb(59, 59, 230);
      text-align: center;
    }
    .gwd-div-1jx2 {
      border-width: 0px;
      background-image: none;
      background-color: rgb(236, 228, 228);
      font-size: 20px;
      color: rgb(59, 59, 230);
      text-align: center;
      left: 220px;
      top: 90px;
    }
    .gwd-div-dwvd {
      background-image: none;
      background-color: rgb(236, 228, 228);
      border-width: 0px;
      text-align: center;
      font-size: 20px;
      color: rgb(59, 59, 230);
    }
    .gwd-div-bzk3 {
      position: absolute;
      width: 72px;
      height: 50px;
      left: 944px;
      top: 31px;
    }
    .gwd-div-zcs4 {
      position: absolute;
      width: 487px;
      height: 54px;
      left: 395px;
      top: 31px;
    }
    .gwd-input-vtsl {
      position: absolute;
      height: 30px;
      border-style: double;
      border-image-source: none;
      border-image-width: initial;
      border-image-outset: initial;
      border-image-repeat: initial;
      border-color: rgb(197, 191, 191);
      width: 250px;
      font-size: 20px;
      font-weight: bold;
      color: rgb(66, 66, 239);
      text-align: center;
      top: 40px;
      left: 520px;
    }
    .gwd-input-4n3j {
      position: absolute;
      width: 120px;
      top: 40px;
      height: 35px;
      color: rgb(62, 62, 227);
      font-weight: bold;
      font-size: 14px;
      left: 800px;
    }
    .gwd-div-vu4i {
      position: absolute;
      height: 50px;
      width: 50px;
      left: 930px;
      top: 33px;
      display: block;
    }
    .loader {
      border-width: 10px;
      border-style: solid;
      border-color: rgb(52, 152, 219) rgb(243, 243, 243) rgb(243, 243, 243);
      border-image: initial;
      border-radius: 50%;
      width: 35px;
      height: 35px;
      animation: spin 2s linear infinite;
    }
    @keyframes spin {
      0% {
        transform: rotate(0deg);
      }
      100% {
        transform: rotate(360deg);
      }
    }
    @keyframes spin {
      0% {
        transform: rotate(0deg);
      }
      100% {
        transform: rotate(360deg);
      }
    }
    .gwd-h2-1oiw {
      position: absolute;
      height: 20px;
      transform-origin: -375px 20px 0px;
      width: 600px;
      text-align: left;
      color: rgb(0, 0, 0);
      left: 450px;
      top: 610px;
      font-size: 13px;
    }
    .gwd-div-k5ga {
      position: absolute;
      left: 10px;
      top: 180px;
      height: 380px;
      background-image: none;
      background-color: rgb(236, 228, 228);
      width: 200px;
    }
    .gwd-div-90xu {
      width: 830px;
      left: 110px;
    }
    .gwd-div-r0gg {
      left: 1058px;
    }
    .gwd-div-1niw {
      left: 1158px;
      top: 12px;
      height: 380px;
    }
    .gwd-div-1bcg {
      left: 945px;
      top: 12px;
      height: 380px;
    }
    .gwd-div-479o {
      left: 101px;
      top: 12px;
      overflow: visible;
      height: 380px;
    }
    .gwd-p-2are {
      position: absolute;
      width: 309.6px;
      text-align: center;
      color: rgb(45, 51, 239);
      height: 80px;
      left: 1px;
      top: 0px;
    }
  </style>
</head>

<body class="htmlNoPages">
  <form>
  </form>
  <h3 class="gwd-h3-1ab2">@firedream</h3>
  <div class="gwd-div-98i0 gwd-div-9hm6 gwd-div-dwvd" id="day_tag_0" align="center"></div>
  <div class="gwd-div-98i0 gwd-div-9hm6 gwd-div-q6uc gwd-div-ufhd gwd-div-1ygc" id="sbd_tag_0">.</div>
  <h2 class="gwd-div-98i0 gwd-div-9hm6 gwd-div-q6uc gwd-div-ufhd gwd-div-1wos gwd-div-12ws gwd-h2-1q9w" id="gt_tag">TOTAL SP</h2>
  <h2 class="gwd-div-98i0 gwd-div-9hm6 gwd-div-q6uc gwd-div-ufhd gwd-div-1wos gwd-div-12ws gwd-h2-gxr8" id="SBD_tag"></h2>
  <div class="gwd-div-98i0 gwd-div-9hm6 gwd-div-q6uc gwd-div-pkh3 gwd-div-1asl" id="sbd_tag_1">.</div>
  <div class="gwd-div-98i0 gwd-div-9hm6 gwd-div-q6uc gwd-div-pkh3 gwd-div-1cj5 gwd-div-jm7y" id="sbd_tag_2">.</div>
  <div class="gwd-div-98i0 gwd-div-9hm6 gwd-div-q6uc gwd-div-pkh3 gwd-div-1cj5 gwd-div-nzie gwd-div-fnu0" id="sbd_tag_3">.</div>
  <div class="gwd-div-98i0 gwd-div-9hm6 gwd-div-q6uc gwd-div-pkh3 gwd-div-1cj5 gwd-div-nzie gwd-div-1ysh gwd-div-1qoy" id="sbd_tag_4">.</div>
  <div class="gwd-div-98i0 gwd-div-9hm6 gwd-div-q6uc gwd-div-pkh3 gwd-div-1cj5 gwd-div-nzie gwd-div-1ysh gwd-div-eq9a gwd-div-1sdr" id="sbd_tag_5">.</div>
  <div class="gwd-div-98i0 gwd-div-9hm6 gwd-div-q6uc gwd-div-pkh3 gwd-div-1cj5 gwd-div-nzie gwd-div-1ysh gwd-div-eq9a gwd-div-1i6l" id="sbd_tag_6">.</div>
  <div class="gwd-div-98i0 gwd-div-9hm6 gwd-div-kj2u gwd-div-1b1u" id="cont_tag">
    <div class="gwd-div-k5ga gwd-div-r0gg gwd-div-1bcg" id="pay_tag"></div>
    <div class="gwd-div-k5ga gwd-div-r0gg gwd-div-1niw" id="time_tag"></div>
    <div class="gwd-div-k5ga gwd-div-90xu gwd-div-479o" id="perm_tag"></div>
  </div>
  <div class="gwd-div-98i0 gwd-div-9hm6 gwd-div-aqiv gwd-div-1jx2" id="day_tag_1" align="center"></div>
  <div class="gwd-div-98i0 gwd-div-9hm6 gwd-div-aqiv gwd-div-1tde gwd-div-ao2l" id="day_tag_2" align="center"></div>
  <div class="gwd-div-98i0 gwd-div-9hm6 gwd-div-aqiv gwd-div-1tde gwd-div-ks78 gwd-div-1i55" id="day_tag_3" align="center"></div>
  <div class="gwd-div-98i0 gwd-div-9hm6 gwd-div-aqiv gwd-div-1tde gwd-div-ks78 gwd-div-1rul gwd-div-7cns" id="day_tag_4" align="center"></div>
  <div class="gwd-div-98i0 gwd-div-9hm6 gwd-div-aqiv gwd-div-1tde gwd-div-ks78 gwd-div-1rul gwd-div-1ghk gwd-div-6ic6" id="day_tag_5" align="center"></div>
  <div class="gwd-div-98i0 gwd-div-9hm6 gwd-div-aqiv gwd-div-1tde gwd-div-ks78 gwd-div-1rul gwd-div-1ghk gwd-div-7b5j" id="day_tag_6" align="center"></div>
  <div class="gwd-div-zcs4" id="cont_1">
  </div>
  <input class="gwd-input-vtsl" id="user_name" value="username">
  <button class="gwd-input-4n3j" onclick="search()">Calculate</button>
  <div class="gwd-div-vu4i" id="spinner_div">
    <div class="loader" id="loader"></div>
  </div>
  <p class="gwd-h2-1oiw" id="warning">Curation rewards may change according to future upvotes/downvotes and feed-price</p>
  <script src="https://cdn.steemjs.com/lib/latest/steem.min.js"></script>
  <script language="JavaScript">
    steem.api.setOptions({
      url: 'https://api.steemit.com'
    });

    var now = new Date();
    var now_utc = new Date(now.getUTCFullYear(), now.getUTCMonth(), now.getUTCDate(), now.getUTCHours(), now.getUTCMinutes(), now.getUTCSeconds());
    var now_parse = now_utc.getTime();
    var pd = [];
    pd[0] = now_parse - (now_parse % 86400000);
    for (let i = 1; i < 7; i++) {
      pd[i] = pd[i - 1] + 86400000;
    }

    document.getElementById("day_tag_0").innerHTML = new Date(pd[0]).getDate() + "/" + (new Date(pd[0]).getMonth() + 1) + "/" + new Date(pd[0]).getFullYear();
    document.getElementById("day_tag_1").innerHTML = new Date(pd[1]).getDate() + "/" + (new Date(pd[1]).getMonth() + 1) + "/" + new Date(pd[1]).getFullYear();
    document.getElementById("day_tag_2").innerHTML = new Date(pd[2]).getDate() + "/" + (new Date(pd[2]).getMonth() + 1) + "/" + new Date(pd[2]).getFullYear();
    document.getElementById("day_tag_3").innerHTML = new Date(pd[3]).getDate() + "/" + (new Date(pd[3]).getMonth() + 1) + "/" + new Date(pd[3]).getFullYear();
    document.getElementById("day_tag_4").innerHTML = new Date(pd[4]).getDate() + "/" + (new Date(pd[4]).getMonth() + 1) + "/" + new Date(pd[4]).getFullYear();
    document.getElementById("day_tag_5").innerHTML = new Date(pd[5]).getDate() + "/" + (new Date(pd[5]).getMonth() + 1) + "/" + new Date(pd[5]).getFullYear();
    document.getElementById("day_tag_6").innerHTML = new Date(pd[6]).getDate() + "/" + (new Date(pd[6]).getMonth() + 1) + "/" + new Date(pd[6]).getFullYear();
    document.getElementById("loader").style.display = "none";
    document.getElementById("warning").style.display = "none";

    document.body.style.zoom = "90%";

     // Get current feed price
    var feed;
    var the_voter;
    steem.api.getFeedHistory(function(err, result) {
      var feed_arr = result.current_median_history.base;
      feed = feed_arr.split(" ")[0];
    });


     //Starting function
    function search() {
      document.getElementById("warning").style.display = "none";
      document.getElementById("sbd_tag_0").innerHTML = "";
      document.getElementById("sbd_tag_1").innerHTML = "";
      document.getElementById("sbd_tag_2").innerHTML = "";
      document.getElementById("sbd_tag_3").innerHTML = "";
      document.getElementById("sbd_tag_4").innerHTML = "";
      document.getElementById("sbd_tag_5").innerHTML = "";
      document.getElementById("sbd_tag_6").innerHTML = "";
      document.getElementById("perm_tag").innerHTML = "";
      document.getElementById("pay_tag").innerHTML = "";
      document.getElementById("time_tag").innerHTML = "";
      document.getElementById("loader").style.display = "block";
      var user = document.getElementById("user_name").value;
      document.getElementById("SBD_tag").innerHTML = "";
      if (user == "") {
        no_name();
      }
      if (user.substring(0, 1) == "@") {
        steem_name();
      }



      the_voter = document.getElementById("user_name").value

      var aut = [];
      var perm = [];
      var post_date = [];

      // Get all the post data that user have upvoted
      steem.api.getAccountVotes(the_voter, function(err, result) {

        // Calculate the current time as UTC since post dates are in UTC
        var now = new Date();
        var nowUtc = new Date(now.getTime() + (now.getTimezoneOffset() * 60000));
        // Convert UTC date to timestamp
        var now_stamp = now.getTime();
        var nowUtc_stamp = nowUtc.getTime();
        // Put variable to check -7 days
        var limit = nowUtc_stamp - 24 * 60 * 60 * 1000 * 7

        for (let i = 0; i < result.length; i++) {
          // convert post date to timestamp
          var ptime = Date.parse(result[i].time);
          post_date.push(ptime);
          // Disregard if it is a downvote or if the post is older than exactly 7 days
          if ((result[i].rshares > 0) && (ptime >= limit)) {
            // form the arrays with information of suitable posts

            aut.push((result[i].authorperm).split("/")[0]);
            perm.push((result[i].authorperm).split("/")[1]);

          }
        }

        get_content(aut, perm, limit);
      });

    }

     // This function forms the content array according to the voted posts
    function get_content(aut, per, limit) {

      var result_array = [];

      var count = 0;
      for (let i = 0; i < aut.length; i++) {
        // get the content for each author and permlink
        steem.api.getContent(aut[i], per[i], function(err, result) {
          var p_date = result.created;
          var p_date_stamp = Date.parse(p_date);
          // check if the post or comment is new < 7 days
          if (p_date_stamp > limit) {
            // if fresh, fill the arrays

            result_array.push(result);
          }
          // check if the async function got all the results

          // if OK, send results for calculation
          count++;
          if (count > aut.length - 1) {
            calculate(result_array);
          }

        });

      }

    }


// function for calculation of curation rewards
    function calculate(result) {
     

      var votes = []
      var sbd_pay = [];
      var ratio;
      var before;
      var now;
      var p_date;
      var p_date_parsed;
      var v_date;
      var v_date_parsed;
      var penalty;
      var sbd_arr;
      var sbd;
      var tot_share;
      var temp;
      var vote = [];
      var netshares = [];
      var author = [];
      var permlink = [];
      var postdate = [];

      for (let i = 0; i < result.length; i++) {    
        before = 0;
        // get the active votes
		vote = result[i].active_votes;
        // sort the votes according to vote time
		vote.sort(compare);
        votes.push(vote);
        for (let j = 0; j < vote.length; j++) {
          tot_share = parseInt(result[i].net_rshares);

          now = before + parseInt(vote[j].rshares);
         // if the current total rshares is negative due to downvotes it must be equal to zero!
		  if (now < 0) {
            now = 0;
          }

		// make the calculation when user is the voter
          if (vote[j].voter == the_voter) {
           // formula of curation reward calculation
		    ratio = (Math.sqrt(now) - Math.sqrt(before)) / (Math.sqrt(tot_share));
            p_date = result[i].created;
            p_date_parsed = Date.parse(p_date);
            v_date = vote[j].time;
            v_date_parsed = Date.parse(v_date);
			// calculate the ratio if the post is voted before 30 minutes
            penalty = (v_date_parsed - p_date_parsed) / (30 * 60 * 1000);

            if (penalty >= 1) {
              penalty = 1;
            }
			
			
            
            sbd_arr = result[i].pending_payout_value;
            sbd = sbd_arr.split(" ")[0];

           // if the post is a total downvote, no pay-out
		    if (parseInt(result[i].net_rshares) < 0) {
              sbd_pay.push(0);
            }
			// calculate the SP payment
            if (parseInt(result[i].net_rshares) >= 0) {
              sbd_pay.push((sbd * 0.25 * ratio * penalty) / feed);
            }

          }


          before = now;
         // no need for this, extra security!
		  if (before < 0) {
            before = 0;
          }


        }
       // form the arrays
	    netshares.push(parseInt(result[i].net_rshares));//this array is not used, just for check!
        author.push(result[i].author);
        var str = "https://steemit.com/@" + result[i].author + "/" + result[i].permlink;
        var lin = (result[i].permlink).substring(0, 70) + ".......";
        permlink.push(lin.link(str));
        postdate.push(result[i].cashout_time);

      }

     // send all to final function to be written in DIV
      final(permlink, sbd_pay, postdate);

    }








	// sort the arrays according to date and write to divs
    function final(permlink, payout, paytime) {
      var date0 = [],
        date1 = [],
        date2 = [],
        date3 = [],
        date4 = [],
        date5 = [],
        date6 = [];
      var perm0 = [],
        perm1 = [],
        perm2 = [],
        perm3 = [],
        perm4 = [],
        perm5 = [],
        perm6 = [];
      var sbd0 = [],
        sbd1 = [],
        sbd2 = [],
        sbd3 = [],
        sbd4 = [],
        sbd5 = [],
        sbd6 = [];
      var sdate = [];
      var day0_tot = 0,
        day1_tot = 0,
        day2_tot = 0,
        day3_tot = 0,
        day4_tot = 0,
        day5_tot = 0,
        day6_tot = 0,
        total_sbd = 0;


      sdate[0] = now_parse - (now_parse % 86400000);
      for (let i = 1; i < 7; i++) {
        sdate[i] = sdate[i - 1] + 86400000;
      }

      for (let i = 0; i < permlink.length; i++) {

        var time = Date.parse(paytime[i]);
        if (time < sdate[1]) {
          perm0.push(permlink[i]);
          date0.push(paytime[i]);
          sbd0.push(payout[i]);
          day0_tot = day0_tot + payout[i]
        }
        if ((time < sdate[2]) && (time >= sdate[1])) {
          perm1.push(permlink[i]);
          date1.push(paytime[i]);
          sbd1.push(payout[i]);
          day1_tot = day1_tot + payout[i]
        }

        if ((time < sdate[3]) && (time >= sdate[2])) {
          perm2.push(permlink[i]);
          date2.push(paytime[i]);
          sbd2.push(payout[i]);
          day2_tot = day2_tot + payout[i]
        }



        if ((time < sdate[4]) && (time >= sdate[3])) {
          perm3.push(permlink[i]);
          date3.push(paytime[i]);
          sbd3.push(payout[i]);
          day3_tot = day3_tot + payout[i]
        }

        if ((time < sdate[5]) && (time >= sdate[4])) {
          perm4.push(permlink[i]);
          date4.push(paytime[i]);
          sbd4.push(payout[i]);
          day4_tot = day4_tot + payout[i]
        }

        if ((time < sdate[6]) && (time >= sdate[5])) {
          perm5.push(permlink[i]);
          date5.push(paytime[i]);
          sbd5.push(payout[i]);
          day5_tot = day5_tot + payout[i]
        }

        if ((time >= sdate[6])) {
          perm6.push(permlink[i]);
          date6.push(paytime[i]);
          sbd6.push(payout[i]);
          day6_tot = day6_tot + payout[i]
        }

      }
      total_sbd = day0_tot + day1_tot + day2_tot + day3_tot + day4_tot + day5_tot + day6_tot;

      document.getElementById("sbd_tag_0").innerHTML = parseFloat(day0_tot).toFixed(3) + " SP";
      document.getElementById("sbd_tag_1").innerHTML = parseFloat(day1_tot).toFixed(3) + " SP";
      document.getElementById("sbd_tag_2").innerHTML = parseFloat(day2_tot).toFixed(3) + " SP";
      document.getElementById("sbd_tag_3").innerHTML = parseFloat(day3_tot).toFixed(3) + " SP";
      document.getElementById("sbd_tag_4").innerHTML = parseFloat(day4_tot).toFixed(3) + " SP";
      document.getElementById("sbd_tag_5").innerHTML = parseFloat(day5_tot).toFixed(3) + " SP";
      document.getElementById("sbd_tag_6").innerHTML = parseFloat(day6_tot).toFixed(3) + " SP";






      for (let i = 0; i < perm0.length; i++) {
        if (i == 0) {
          document.getElementById("perm_tag").innerHTML = "Date " + document.getElementById("day_tag_0").innerHTML + " Voted Posts" + "<br />";
          document.getElementById("pay_tag").innerHTML = "Date " + document.getElementById("day_tag_0").innerHTML + " Curation" + "<br />";
          document.getElementById("time_tag").innerHTML = "PayTime (UTC)" + "<br />";
        }


        document.getElementById("perm_tag").innerHTML = document.getElementById("perm_tag").innerHTML + perm0[i] + "<br />";
        document.getElementById("pay_tag").innerHTML = document.getElementById("pay_tag").innerHTML + sbd0[i].toFixed(3) + "<br />";
        document.getElementById("time_tag").innerHTML = document.getElementById("time_tag").innerHTML + date0[i] + "<br />";

      }

      for (let i = 0; i < perm1.length; i++) {
        if (i == 0) {
          document.getElementById("perm_tag").innerHTML = document.getElementById("perm_tag").innerHTML + "Date " + document.getElementById("day_tag_1").innerHTML + " Voted Posts" + "<br />";
          document.getElementById("pay_tag").innerHTML = document.getElementById("pay_tag").innerHTML + "Date " + document.getElementById("day_tag_1").innerHTML + " Curation" + "<br />";
          document.getElementById("time_tag").innerHTML = document.getElementById("time_tag").innerHTML + "PayTime (UTC)" + "<br />";
        }

        document.getElementById("perm_tag").innerHTML = document.getElementById("perm_tag").innerHTML + perm1[i] + "<br />";
        document.getElementById("pay_tag").innerHTML = document.getElementById("pay_tag").innerHTML + sbd1[i].toFixed(3) + "<br />";
        document.getElementById("time_tag").innerHTML = document.getElementById("time_tag").innerHTML + date1[i] + "<br />";

      }

      for (let i = 0; i < perm2.length; i++) {
        if (i == 0) {
          document.getElementById("perm_tag").innerHTML = document.getElementById("perm_tag").innerHTML + "Date " + document.getElementById("day_tag_2").innerHTML + " Voted Posts" + "<br />";
          document.getElementById("pay_tag").innerHTML = document.getElementById("pay_tag").innerHTML + "Date " + document.getElementById("day_tag_2").innerHTML + " Curation" + "<br />";
          document.getElementById("time_tag").innerHTML = document.getElementById("time_tag").innerHTML + "PayTime (UTC)" + "<br />";
        }

        document.getElementById("perm_tag").innerHTML = document.getElementById("perm_tag").innerHTML + perm2[i] + "<br />";
        document.getElementById("pay_tag").innerHTML = document.getElementById("pay_tag").innerHTML + sbd2[i].toFixed(3) + "<br />";
        document.getElementById("time_tag").innerHTML = document.getElementById("time_tag").innerHTML + date2[i] + "<br />";

      }

      for (let i = 0; i < perm3.length; i++) {
        if (i == 0) {
          document.getElementById("perm_tag").innerHTML = document.getElementById("perm_tag").innerHTML + "Date " + document.getElementById("day_tag_3").innerHTML + " Voted Posts" + "<br />";
          document.getElementById("pay_tag").innerHTML = document.getElementById("pay_tag").innerHTML + "Date " + document.getElementById("day_tag_3").innerHTML + " Curation" + "<br />";
          document.getElementById("time_tag").innerHTML = document.getElementById("time_tag").innerHTML + "PayTime (UTC)" + "<br />";
        }

        document.getElementById("perm_tag").innerHTML = document.getElementById("perm_tag").innerHTML + perm3[i] + "<br />";
        document.getElementById("pay_tag").innerHTML = document.getElementById("pay_tag").innerHTML + sbd3[i].toFixed(3) + "<br />";
        document.getElementById("time_tag").innerHTML = document.getElementById("time_tag").innerHTML + date3[i] + "<br />";

      }

      for (let i = 0; i < perm4.length; i++) {
        if (i == 0) {
          document.getElementById("perm_tag").innerHTML = document.getElementById("perm_tag").innerHTML + "Date " + document.getElementById("day_tag_4").innerHTML + " Voted Posts" + "<br />";
          document.getElementById("pay_tag").innerHTML = document.getElementById("pay_tag").innerHTML + "Date " + document.getElementById("day_tag_4").innerHTML + " Curation" + "<br />";
          document.getElementById("time_tag").innerHTML = document.getElementById("time_tag").innerHTML + "PayTime (UTC)" + "<br />";
        }
        var str = "https://steemit.com/@" + document.getElementById("user_name").value + "/" + perm4[i];
        var lin = (perm4[i]).substring(0, 70) + ".......";
        document.getElementById("perm_tag").innerHTML = document.getElementById("perm_tag").innerHTML + perm4[i] + "<br />";
        document.getElementById("pay_tag").innerHTML = document.getElementById("pay_tag").innerHTML + sbd4[i].toFixed(3) + "<br />";
        document.getElementById("time_tag").innerHTML = document.getElementById("time_tag").innerHTML + date4[i] + "<br />";

      }

      for (let i = 0; i < perm5.length; i++) {
        if (i == 0) {
          document.getElementById("perm_tag").innerHTML = document.getElementById("perm_tag").innerHTML + "Date " + document.getElementById("day_tag_5").innerHTML + " Voted Posts" + "<br />";
          document.getElementById("pay_tag").innerHTML = document.getElementById("pay_tag").innerHTML + "Date " + document.getElementById("day_tag_5").innerHTML + " Curation" + "<br />";
          document.getElementById("time_tag").innerHTML = document.getElementById("time_tag").innerHTML + "PayTime (UTC)" + "<br />";
        }

        document.getElementById("perm_tag").innerHTML = document.getElementById("perm_tag").innerHTML + perm5[i] + "<br />";
        document.getElementById("pay_tag").innerHTML = document.getElementById("pay_tag").innerHTML + sbd5[i].toFixed(3) + "<br />";
        document.getElementById("time_tag").innerHTML = document.getElementById("time_tag").innerHTML + date5[i] + "<br />";

      }

      for (let i = 0; i < perm6.length; i++) {
        if (i == 0) {
          document.getElementById("perm_tag").innerHTML = document.getElementById("perm_tag").innerHTML + "Date " + document.getElementById("day_tag_6").innerHTML + " Voted Posts" + "<br />";
          document.getElementById("pay_tag").innerHTML = document.getElementById("pay_tag").innerHTML + "Date " + document.getElementById("day_tag_6").innerHTML + " Curation" + "<br />";
          document.getElementById("time_tag").innerHTML = document.getElementById("time_tag").innerHTML + "PayTime (UTC)" + "<br />";
        }
        document.getElementById("perm_tag").innerHTML = document.getElementById("perm_tag").innerHTML + perm6[i] + "<br />";
        document.getElementById("pay_tag").innerHTML = document.getElementById("pay_tag").innerHTML + sbd6[i].toFixed(3) + "<br />";
        document.getElementById("time_tag").innerHTML = document.getElementById("time_tag").innerHTML + date6[i] + "<br />";

      }



      document.getElementById("SBD_tag").innerHTML = parseFloat(total_sbd).toFixed(3);

      document.getElementById("loader").style.display = "none";
      document.getElementById("warning").style.display = "block";
    }

    function error_happened() {
      window.alert("Node Down. Data not loaded.");
      document.getElementById("loader").style.display = "none";
    }

    function no_name() {
      window.alert("Please enter a name");
      document.getElementById("loader").style.display = "none";
    }

    function steem_name() {
      window.alert("Don't use @ and re-enter your name");
      document.getElementById("loader").style.display = "none";
    }


    //sortimg function for votes array
	function compare(a, b) {

      const timeA = a.time;
      const timeB = b.time;

      let comparison = 0;
      if (timeA > timeB) {
        comparison = 1;
      } else if (timeA < timeB) {
        comparison = -1;
      }
      return comparison;
    }
  </script>
  <h1 class="gwd-p-2are">Steem Curation <br>Rewards</h1>
</body>

</html>
